<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="AssignLect">

	<resultMap type="AssignLect" id="AssignLectResultMap">
		<result column="lect_num" property="lect_num"/>
		<result column="teacher_id" property="teacher_id"/>
		<result column="day" property="day"/>
		<result column="begintime" property="begintime"/>
		<result column="endtime" property="endtime"/>
		<result column="status" property="status"/>
	</resultMap>
	<select id="getAllAssignLectList" resultType="AssignLect">
		<![CDATA[
			SELECT ROWNUM rnum, A.LECT_NUM, L.LECT_NAME, A.TEACHER_ID, T.NAME, A.DAY, A.BEGINTIME, A.ENDTIME, A.STATUS
			FROM ASSIGN_LECT A, LECTURE L, TEACHER T
			WHERE A.LECT_NUM = L.LECT_NUM
			AND A.TEACHER_ID = T.ID 
		]]>
	</select>
	<insert id="assignLecture"  parameterType="AssignLect">
		<![CDATA[
			INSERT INTO ASSIGN_LECT
			(LECT_NUM, TEACHER_ID, DAY, BEGINTIME, ENDTIME, STATUS)
			VALUES
			(#{lect_num}, #{teacher_id}, #{day}, #{begintime}, #{endtime}, DEFAULT)
		]]>
	</insert>
	<delete id="deleteAssignLect"  parameterType="AssignLect">
		<![CDATA[
			DELETE ASSIGN_LECT WHERE LECT_NUM = #{lect_num} AND TEACHER_ID = #{teacher_id}			
		]]>
	</delete>
</mapper>
