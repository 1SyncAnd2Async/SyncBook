<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="RegLect">

	<resultMap type="RegLect" id="RegLectResultMap">
		<result column="lect_num" property="lect_num"/>
		<result column="teacher_id" property="teacher_id"/>
		<result column="day" property="day"/>
		<result column="begintime" property="begintime"/>
		<result column="endtime" property="endtime"/>
		<result column="status" property="status"/>
	</resultMap>
	<select id="getAllClassList" resultType="RegLect">
		<![CDATA[
			SELECT A.LECT_NUM, L.LECT_NAME, A.TEACHER_ID, A.DAY, A.BEGINTIME, A.ENDTIME, A.STATUS, T.NAME, S.SUBJ_NAME, B.BOOK_NAME, L.IMG, L.PRICE
			FROM ASSIGN_LECT A, TEACHER T, LECTURE L, BOOK B, SUBJECT S
			WHERE A.TEACHER_ID = T.ID
			AND A.LECT_NUM = L.LECT_NUM
			AND L.SUBJ_NUM = S.SUBJ_NUM
			AND L.BOOK_NUM = B.BOOK_NUM
		]]>
	</select>
	<insert id="assignLecture"  parameterType="RegLect">
		<![CDATA[
			INSERT INTO ASSIGN_LECT
			(LECT_NUM, TEACHER_ID, DAY, BEGINTIME, ENDTIME, STATUS)
			VALUES
			(#{lect_num}, #{teacher_id}, #{day}, #{begintime}, #{endtime}, DEFAULT)
		]]>
	</insert>
	<delete id="deleteAssignLect"  parameterType="RegLect">
		<![CDATA[
			DELETE ASSIGN_LECT WHERE LECT_NUM = #{lect_num} AND TEACHER_ID = #{teacher_id}			
		]]>
	</delete>
</mapper>
